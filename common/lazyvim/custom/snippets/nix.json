{
  "module": {
    "prefix": "mod",
    "description": "Nix module",
    "body": [
      "{",
      "  config,",
      "  lib,",
      "  pkgs,",
      "  ...",
      "}:",
      "",
      "let",
      "  cfg = config.${1|programs.,services.|};",
      "in",
      "",
      "{",
      "  options.$1 = {",
      "    enable = lib.mkEnableOption \"$1\";",
      "  };",
      "",
      "  config = lib.mkIf cfg.enable {",
      "    $0",
      "  };",
      "}"
    ]
  },
  "module_mkmerge": {
    "prefix": "modm",
    "description": "Nix module with mkMerge",
    "body": [
      "{",
      "  config,",
      "  lib,",
      "  pkgs,",
      "  ...",
      "}:",
      "",
      "let",
      "  cfg = config.${1|programs.,services.|};",
      "in",
      "",
      "{",
      "  options.$1 = {",
      "    enable = lib.mkEnableOption \"$1\";",
      "    $2 = lib.mkEnableOption \"$2\";",
      "  };",
      "",
      "  config = lib.mkIf cfg.enable (",
      "    lib.mkMerge [",
      "      {",
      "        $3",
      "      }",
      "",
      "      (lib.mkIf cfg.$2 {",
      "        $0",
      "      })",
      "    ]",
      "  );",
      "}"
    ]
  },
  "update_script": {
    "prefix": "up",
    "description": "Nix update script",
    "body": [
      "passthru.updateScript = nix-update-script { ${0|extraArgs = [ \"--version=branch\" ]; |}};"
    ]
  }
}
